<!doctype html>
<html>
  <head>

    <!-- some basic stuff  -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SVG with D3</title>

    <!-- 
      add your stylesheet 
      base.css loads the templated css that should not be changed
      you can tweak your own css in custom.css and it will override base.css
      WARNING: the order of the stylesheets matters
    -->
    <link rel="stylesheet" href="base.css">
    <link rel="stylesheet" href="custom.css">

    <!-- Step 2: add your d3 script below -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    

  </head>

  <body>
    <h1>Bezos is a cheapskate when it comes to his wedding costs, relative to his wealth </h1>
    <p>Here's the cost of <span style="color:#611010;font-weight: bold;">Bezos' wedding (56 million)</span> relative to his <span style="color:#27F584;font-weight: bold;">overall wealth (236 billion)</span>, versus the <span style="color:#611010;font-weight: bold;">average American's wedding cost(33k)</span> and their <span style="color:#27F584;font-weight: bold;">average wealth (1 million)</span></p>
    <div id="my-svg-chart"></div>

    <!-- your JS code that uses d3 to manipulate data -->
    <script>


// unit in million
const bezosCost = 56, 
      bezosWealth = 236000,
      averageCost = 40374, 
      averageWealth = 236000;

// let's assume we want the max radius of the circles to be 100
const scaleRadius = d3.scaleSqrt().domain([0, bezosWealth]).range([0, 100]);

const myChart = d3
        .select('#my-svg-chart')
        .append('svg')
        .attr('width', 640)
        .attr('height', 640)


const circles = myChart
    .selectAll('circle')
    .data([bezosWealth, bezosCost, averageWealth, averageCost])
    .join('circle');

// with SVG circle-specific attributes

// circles
//     .attr('cx', function(d,i) {
//          // i == 0 : BezosCost, i == 1 : BezosWealth
//           if (i < 2) {return 100}
//           else {return 300}
//         })
//     .attr('cy', 100)
//     .attr('r', (d) => scaleRadius(d))


circles
        .attr('cx', function(d,i) {
          // i == 0 : 'BezosCost', i == 1 : 'BezosWealth' , i == 2 : 'averageWealth', i == 3 : averageCost
          if (i < 2) {return 100}
          else {return 300}
        })
        .attr('cy', 100)
        .attr('r', (d) => scaleRadius(d))

// this creates alternating colors based on the index of the circle

circles
    .style('fill', function(d,i) {
      return i%2 == 0 ? '#27F584' : '#611010'
    })



    myChart.append('text')
        .attr('x', 100)
        .attr('y', 220)
        .text("Bezos' wedding vs wealth")
        .style('text-anchor','middle')

      myChart.append('text')
        .attr('x', 300)
        .attr('y', 220)
        .text("Average American")
        .style('text-anchor','middle')




      // Step 3. add data variables
      // Step 4. transform data into usable scales
      // Step 5. create an SVG container inside #my-svg-chart using d3.select().append()
      // Step 6. create SVG shapes binded with data, using d3.selectAll().data().join()
      // Step 7. tweak the attributes of the SVG shapes to position them at the right places
      // Step 8. color the SVG shapes using style attributes

    </script>

  </body>
</html>